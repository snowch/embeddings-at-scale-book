<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 400">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#444"/>
    </marker>
  </defs>

  <!-- Classification Workflow -->
  <rect x="20" y="15" width="660" height="70" rx="8" fill="#fee2e2" stroke="#dc2626" stroke-width="2"/>
  <text x="35" y="38" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#991b1b">Classification Workflow</text>

  <rect x="50" y="48" width="70" height="28" rx="4" fill="#fff" stroke="#666"/>
  <text x="85" y="67" font-family="system-ui, sans-serif" font-size="11" text-anchor="middle">Query</text>

  <line x1="120" y1="62" x2="175" y2="62" stroke="#444" stroke-width="1.5" marker-end="url(#arrow)"/>

  <rect x="177" y="48" width="150" height="28" rx="4" fill="#fff" stroke="#666"/>
  <text x="252" y="67" font-family="system-ui, sans-serif" font-size="11" text-anchor="middle">Neural Network (every query)</text>

  <line x1="327" y1="62" x2="382" y2="62" stroke="#444" stroke-width="1.5" marker-end="url(#arrow)"/>

  <rect x="384" y="48" width="70" height="28" rx="4" fill="#fff" stroke="#666"/>
  <text x="419" y="67" font-family="system-ui, sans-serif" font-size="11" text-anchor="middle">Decision</text>

  <!-- Embedding Workflow -->
  <rect x="20" y="105" width="660" height="280" rx="8" fill="#f8fafc" stroke="#64748b" stroke-width="2"/>
  <text x="35" y="128" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#334155">Embedding Workflow</text>

  <!-- Index Time -->
  <rect x="40" y="145" width="300" height="110" rx="6" fill="#dcfce7" stroke="#16a34a" stroke-width="1.5"/>
  <text x="55" y="165" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#166534">Index Time (once per item)</text>

  <rect x="55" y="180" width="90" height="55" rx="4" fill="#fff" stroke="#666"/>
  <text x="100" y="203" font-family="system-ui, sans-serif" font-size="11" text-anchor="middle">Raw Data</text>
  <text x="100" y="218" font-family="system-ui, sans-serif" font-size="9" text-anchor="middle" fill="#666">text, images...</text>

  <line x1="145" y1="207" x2="168" y2="207" stroke="#444" stroke-width="1.5" marker-end="url(#arrow)"/>

  <rect x="170" y="180" width="90" height="55" rx="4" fill="#fff" stroke="#666"/>
  <text x="215" y="203" font-family="system-ui, sans-serif" font-size="11" text-anchor="middle">Encoder</text>
  <text x="215" y="218" font-family="system-ui, sans-serif" font-size="9" text-anchor="middle" fill="#666">BERT, CLIP...</text>

  <line x1="260" y1="207" x2="280" y2="207" stroke="#444" stroke-width="1.5"/>
  <line x1="280" y1="207" x2="280" y2="290" stroke="#444" stroke-width="1.5"/>
  <line x1="280" y1="290" x2="318" y2="290" stroke="#444" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Vector Database (center) -->
  <rect x="320" y="265" width="120" height="50" rx="25" fill="#fff" stroke="#444" stroke-width="2"/>
  <text x="380" y="295" font-family="system-ui, sans-serif" font-size="12" text-anchor="middle" font-weight="500">Vector Database</text>

  <!-- Query Time -->
  <rect x="40" y="270" width="230" height="100" rx="6" fill="#dbeafe" stroke="#2563eb" stroke-width="1.5"/>
  <text x="55" y="290" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#1e40af">Query Time (per request)</text>

  <rect x="55" y="305" width="80" height="45" rx="4" fill="#fff" stroke="#666"/>
  <text x="95" y="332" font-family="system-ui, sans-serif" font-size="11" text-anchor="middle">Query</text>

  <line x1="135" y1="327" x2="158" y2="327" stroke="#444" stroke-width="1.5" marker-end="url(#arrow)"/>

  <rect x="160" y="305" width="95" height="45" rx="4" fill="#fff" stroke="#666"/>
  <text x="207" y="323" font-family="system-ui, sans-serif" font-size="11" text-anchor="middle">Encoder</text>
  <text x="207" y="338" font-family="system-ui, sans-serif" font-size="9" text-anchor="middle" fill="#666">(same model)</text>

  <!-- Query to DB -->
  <line x1="255" y1="327" x2="275" y2="327" stroke="#444" stroke-width="1.5"/>
  <line x1="275" y1="327" x2="275" y2="305" stroke="#444" stroke-width="1.5"/>
  <line x1="275" y1="305" x2="318" y2="305" stroke="#444" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Search Results -->
  <rect x="460" y="265" width="200" height="100" rx="6" fill="#fef3c7" stroke="#d97706" stroke-width="1.5"/>
  <text x="475" y="285" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#92400e">Similarity Search</text>

  <rect x="475" y="300" width="80" height="45" rx="4" fill="#fff" stroke="#666"/>
  <text x="515" y="318" font-family="system-ui, sans-serif" font-size="10" text-anchor="middle">ANN Search</text>
  <text x="515" y="333" font-family="system-ui, sans-serif" font-size="9" text-anchor="middle" fill="#666">&lt;1ms</text>

  <line x1="555" y1="322" x2="578" y2="322" stroke="#444" stroke-width="1.5" marker-end="url(#arrow)"/>

  <rect x="580" y="300" width="65" height="45" rx="4" fill="#fff" stroke="#666"/>
  <text x="612" y="327" font-family="system-ui, sans-serif" font-size="10" text-anchor="middle">Results</text>

  <!-- DB to Search -->
  <line x1="440" y1="290" x2="473" y2="290" stroke="#444" stroke-width="1.5"/>
  <line x1="473" y1="290" x2="473" y2="322" stroke="#444" stroke-width="1.5" marker-end="url(#arrow)"/>
</svg>
